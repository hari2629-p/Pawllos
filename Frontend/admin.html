<!-- Same Firebase SDKs and styles as others -->
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBX10ONUiCc9NPrOmjFsC3Dq83u8GxwaK0",
    authDomain: "pawllos-c985f.firebaseapp.com",
    projectId: "pawllos-c985f",
    storageBucket: "pawllos-c985f.appspot.com",
    messagingSenderId: "605956154730",
    appId: "1:605956154730:web:d0df6d427f92b581467113"
  };
  if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
  const auth = firebase.auth();

  document.addEventListener("DOMContentLoaded", async () => {
    const user = await new Promise(resolve => auth.onAuthStateChanged(resolve));
    if (!user || user.email !== "www.hariatl10@gmail.com") {
      alert("Access denied.");
      return (window.location.href = "index.html");
    }

    const container = document.getElementById("requestsContainer");
    const snap = await db.collection("adoptions").orderBy("createdAt", "desc").get();
    if (snap.empty) return container.innerHTML = "<p>No requests yet.</p>";

    snap.forEach(doc => {
      const d = doc.data();
      container.innerHTML += `
        <div class="request">
          <p><strong>Pet:</strong> ${d.petName}</p>
          <p><strong>User:</strong> ${d.userName}</p>
          <p><strong>Email:</strong> ${d.email}</p>
          <p><strong>Phone:</strong> ${d.phone}</p>
          <p><strong>Reason:</strong> ${d.message}</p>
          <p class="status">Status: <span id="status-${doc.id}">${d.status}</span></p>
          <div class="buttons">
            <button class="approve" onclick="updateStatus('${doc.id}', 'Approved')">Approve</button>
            <button class="reject" onclick="updateStatus('${doc.id}', 'Rejected')">Reject</button>
          </div>
        </div>`;
    });
  });

  async function updateStatus(id, status) {
    await db.collection("adoptions").doc(id).update({ status });
    document.getElementById("status-" + id).textContent = status;
    alert("Updated to " + status);
  }
</script>
